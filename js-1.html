<!doctype html><html><head>
<title>This is an HTML canvas</title>
<link rel="stylesheet" href="../assets/styles.css">
</head>
<body><h1>Playing the HTML canvas</h1>
<h4>Time-stamp: <2019-01-21 20:11:03 Chuck Siska></h4>
<h4>Team POO</h4>

<canvas id="grid" width="400" height="400"></canvas>

</body>
<script src="../assets/draw-stuff.js"></script>
<script>
// after "Introducing JavaScript Game Development" by Stuart.

// =====================================================  draw_title ====
// Draw filled rect.
function draw_title( context ) 
{
    context.save( );
    context.fillStyle = 'lightgrey';
    context.font = "30px Arial";
    context.fillText( "Grid", 150, 140 );
    context.restore( );
}
////////////////////////////////////
function determineRule(a, b, c)
{
	ruleset = [0, 1, 0, 1, 1, 0, 1, 0];
  	if (a == 1 && b == 1 && c == 1) return ruleset[0];
  	if (a == 1 && b == 1 && c == 0) return ruleset[1];
  	if (a == 1 && b == 0 && c == 1) return ruleset[2];
  	if (a == 1 && b == 0 && c == 0) return ruleset[3];
  	if (a == 0 && b == 1 && c == 1) return ruleset[4];
  	if (a == 0 && b == 1 && c == 0) return ruleset[5];
  	if (a == 0 && b == 0 && c == 1) return ruleset[6];
  	if (a == 0 && b == 0 && c == 0) return ruleset[7];
  	return 0;
}

function drawRule(cellRow, context, x, y, ratio)
{
	for (let i = 0; i < cellRow.length; i++)
	{
		if (cellRow[i] == 1)
		{
			context.fillStyle = "white";
			context.fillRect(x, y, 10, 10);
		}
		x += 10
	}
}

function hello(context)
{
    let drawRatio = 10;

    var cellRow = Array(40).fill(0);
    cellRow[19] = 1;

    let xCoord = 0;
    let yCoord = 0;
    let lineCount = 0;

    while (lineCount != 40)
    {
    	drawRule(cellRow, context, xCoord, yCoord, drawRatio);
    	
    	let newCellRow = Array(cellRow.length);
    	/*
    	for (let i = 1; i < newCellRow.length - 1; i++)
    	{
    		let leftCell = cellRow[i - 1];
    		let midCell = lastGen[i];
    		let rightCell = lastGen[i+1];
    		newCellRow[i] = determineRule(leftCell, midCell, rightCell);
    	}
	
    	cellRow = newCellRow;
		*/
    	yCoord += 10;
    	xCoord = 0;
    	lineCount++;
    }

}

////////////////////////////////////

// =====================================================  Main ====
  var canvas = document.getElementById( "grid" );
  var context = canvas.getContext( "2d" );
  draw_rect( context );
  // Draw a grid
  draw_grid( context, 10, 50, 'white', 'yellow' );
  draw_title(context);
  hello(context);
</script>
</html>
